<config>
    <tabs>
        <doofinder_config translate="label" module="doofinder_feed">
            <label>Doofinder Search</label>
            <sort_order>99999</sort_order>
        </doofinder_config>
    </tabs>
    <sections>
        <doofinder_cron translate="label" module="doofinder_feed">
            <label>Product Data Feed</label>
            <tab>doofinder_config</tab>
            <frontend_type>text</frontend_type>
            <sort_order>1000</sort_order>
            <show_in_default>1</show_in_default>
            <show_in_website>0</show_in_website>
            <show_in_store>1</show_in_store>
            <groups>
                <feed_settings translate="label">
                    <label>Feed Settings</label>
                    <expanded>true</expanded>
                    <frontend_type>text</frontend_type>
                    <sort_order>10</sort_order>
                    <show_in_default>1</show_in_default>
                    <show_in_website>0</show_in_website>
                    <show_in_store>1</show_in_store>
                    <fields>
                        <instruction>
                            <frontend_model>doofinder_feed/settings_panel_description</frontend_model>
                            <sort_order>0</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>0</show_in_store>
                        </instruction>
                        <display_price translate="label">
                            <label>Display Price</label>
                            <frontend_type>select</frontend_type>
                            <comment>Show/hide the price in the feed</comment>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>7</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </display_price>
                        <grouped translate="label">
                            <label>Split Grouped Products</label>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>8</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </grouped>
                    </fields>
                </feed_settings>

                <schedule_settings translate="label">
                    <label>Schedule Settings</label>
                    <expanded>false</expanded>
                    <frontend_type>text</frontend_type>
                    <sort_order>20</sort_order>
                    <show_in_default>1</show_in_default>
                    <show_in_website>0</show_in_website>
                    <show_in_store>1</show_in_store>
                    <fields>

                        <enabled>
                            <label>Enabled</label>
                            <frontend_type>select</frontend_type>
                            <comment>Activate/deactivate the feed for this store</comment>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>1</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </enabled>
                        <time translate="label">
                            <label>Start Time</label>
                            <frontend_type>time</frontend_type>
                            <comment>Feed generation start date</comment>
                            <sort_order>2</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </time>
                        <frequency translate="label">
                            <label>Frequency</label>
                            <frontend_type>select</frontend_type>
                            <comment>Feed generating frequency (e.g. "monthly" means that the feed will be generated on the first day of each month at a given hour).</comment>
                            <source_model>adminhtml/system_config_source_cron_frequency</source_model>
                            <sort_order>3</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </frequency>
                        <delay translate="label">
                            <label>Step Delay</label>
                            <frontend_type>text</frontend_type>
                            <comment>The interval between the subsequent stages of feed generating (in minutes). It shouldn't be smaller than the crontab setting.</comment>
                            <sort_order>4</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </delay>
                        <step translate="label">
                            <label>Step Size</label>
                            <frontend_type>text</frontend_type>
                            <comment>The number of products added to each iteration when the feed is generated.</comment>
                            <sort_order>5</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </step>
                        <name translate="label">
                            <label>Data Feed Name</label>
                            <frontend_type>text</frontend_type>
                            <comment>The name of the file where a newly generated feed will be saved to. The {store_code} variable will be replaced with the code of the current shop.</comment>
                            <sort_order>6</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </name>

                        <generate translate="label">
                            <frontend_type>button</frontend_type>
                            <frontend_model>doofinder_feed/settings_buttons_generate</frontend_model>
                            <sort_order>20</sort_order>
                            <show_in_default>0</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </generate>

                        <reschedule translate="label">
                            <frontend_type>button</frontend_type>
                            <frontend_model>doofinder_feed/settings_buttons_reschedule</frontend_model>
                            <sort_order>20</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </reschedule>
                    </fields>
                </schedule_settings>
                <panel translate="label">
                    <label>Feed Status</label>
                    <expanded>false</expanded>
                    <frontend_type>text</frontend_type>
                    <sort_order>30</sort_order>
                    <show_in_default>0</show_in_default>
                    <show_in_website>0</show_in_website>
                    <show_in_store>1</show_in_store>
                    <fields>
                        <status>
                            <label>Status</label>
                            <frontend_model>doofinder_feed/settings_panel_message</frontend_model>
                            <sort_order>1</sort_order>
                            <show_in_default>0</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </status>
                        <message>
                            <label>Message</label>
                            <frontend_model>doofinder_feed/settings_panel_message</frontend_model>
                            <sort_order>20</sort_order>
                            <show_in_default>0</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </message>
                        <complete>
                            <label>Complete</label>
                            <frontend_model>doofinder_feed/settings_panel_message</frontend_model>
                            <sort_order>30</sort_order>
                            <show_in_default>0</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </complete>
                        <next_run>
                            <label>Next Run</label>
                            <frontend_model>doofinder_feed/settings_panel_message</frontend_model>
                            <sort_order>40</sort_order>
                            <show_in_default>0</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </next_run>
                        <next_iteration>
                            <label>Next Iteration</label>
                            <frontend_model>doofinder_feed/settings_panel_message</frontend_model>
                            <sort_order>50</sort_order>
                            <show_in_default>0</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </next_iteration>
                        <last_file>
                            <label>Last generated feed</label>
                            <frontend_model>doofinder_feed/settings_panel_file</frontend_model>
                            <sort_order>60</sort_order>
                            <show_in_default>0</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </last_file>
                        <error_stack>
                            <label>Errors</label>
                            <frontend_model>doofinder_feed/settings_panel_message</frontend_model>
                            <sort_order>70</sort_order>
                            <show_in_default>0</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>1</show_in_store>
                        </error_stack>
                    </fields>
                </panel>
            </groups>
        </doofinder_cron>
    </sections>
</config>
